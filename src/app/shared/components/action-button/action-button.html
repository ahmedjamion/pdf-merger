@if (iconOnly()) {
  <button
    type="button"
    class="inline-flex items-center justify-center rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"
    [class.bg-sky-600]="variant() === 'primary'"
    [class.text-white]="variant() === 'primary'"
    [class.hover:bg-sky-500]="variant() === 'primary'"
    [class.focus:ring-sky-500]="variant() === 'primary'"
    [class.border]="variant() === 'secondary' || variant() === 'ghost'"
    [class.border-slate-300]="variant() === 'secondary'"
    [class.dark:border-slate-600]="variant() === 'secondary'"
    [class.bg-white]="variant() === 'secondary'"
    [class.dark:bg-slate-800]="variant() === 'secondary'"
    [class.text-slate-700]="variant() === 'secondary'"
    [class.dark:text-slate-300]="variant() === 'secondary'"
    [class.hover:bg-slate-50]="variant() === 'secondary'"
    [class.dark:hover:bg-slate-700]="variant() === 'secondary'"
    [class.border-red-300]="variant() === 'danger'"
    [class.text-red-600]="variant() === 'danger'"
    [class.dark:text-red-400]="variant() === 'danger'"
    [class.hover:bg-red-50]="variant() === 'danger'"
    [class.dark:hover:bg-red-900/20]="variant() === 'danger'"
    [class.text-slate-500]="variant() === 'ghost'"
    [class.hover:text-slate-700]="variant() === 'ghost'"
    [class.dark:hover:text-slate-300]="variant() === 'ghost'"
    [class.hover:bg-slate-100]="variant() === 'ghost'"
    [class.dark:hover:bg-slate-800]="variant() === 'ghost'"
    [class.p-1.5]="size() === 'sm'"
    [class.p-2]="size() === 'md'"
    [class.p-2.5]="size() === 'lg'"
    [class.opacity-50]="disabled()"
    [class.cursor-not-allowed]="disabled()"
    [disabled]="disabled() || loading()"
    [attr.aria-label]="iconOnly() ? icon() : null"
    (click)="onClick()"
  >
    @if (loading()) {
      <svg class="animate-spin" [class]="variant() === 'primary' ? 'text-white' : 'text-slate-600 dark:text-slate-400'" [style.width.px]="iconSize" [style.height.px]="iconSize" viewBox="0 0 24 24" fill="none">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
      </svg>
    } @else if (icon()) {
      <ng-icon [name]="icon()" [size]="iconSize" />
    }
  </button>
} @else {
  <button
    type="button"
    class="inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"
    [class.bg-sky-600]="variant() === 'primary'"
    [class.text-white]="variant() === 'primary'"
    [class.hover:bg-sky-500]="variant() === 'primary'"
    [class.focus:ring-sky-500]="variant() === 'primary'"
    [class.shadow-lg]="variant() === 'primary'"
    [class.shadow-sky-600/25]="variant() === 'primary'"
    [class.border]="variant() === 'secondary' || variant() === 'danger'"
    [class.border-slate-300]="variant() === 'secondary'"
    [class.dark:border-slate-600]="variant() === 'secondary'"
    [class.bg-white]="variant() === 'secondary'"
    [class.dark:bg-slate-800]="variant() === 'secondary'"
    [class.text-slate-700]="variant() === 'secondary'"
    [class.dark:text-slate-300]="variant() === 'secondary'"
    [class.hover:bg-slate-50]="variant() === 'secondary'"
    [class.dark:hover:bg-slate-700]="variant() === 'secondary'"
    [class.border-red-300]="variant() === 'danger'"
    [class.dark:border-red-800]="variant() === 'danger'"
    [class.bg-white]="variant() === 'danger'"
    [class.text-red-600]="variant() === 'danger'"
    [class.dark:text-red-400]="variant() === 'danger'"
    [class.hover:bg-red-50]="variant() === 'danger'"
    [class.dark:hover:bg-red-900/20]="variant() === 'danger'"
    [class.px-3]="size() === 'sm'"
    [class.py-1.5]="size() === 'sm'"
    [class.text-xs]="size() === 'sm'"
    [class.px-4]="size() === 'md'"
    [class.py-2]="size() === 'md'"
    [class.text-sm]="size() === 'md'"
    [class.px-5]="size() === 'lg'"
    [class.py-2.5]="size() === 'lg'"
    [class.text-base]="size() === 'lg'"
    [class.opacity-50]="disabled()"
    [class.cursor-not-allowed]="disabled()"
    [disabled]="disabled() || loading()"
    (click)="onClick()"
  >
    @if (loading()) {
      <svg class="animate-spin" [class]="variant() === 'primary' ? 'text-white' : 'text-slate-600 dark:text-slate-400'" [style.width.px]="iconSize" [style.height.px]="iconSize" viewBox="0 0 24 24" fill="none">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
      </svg>
    } @else if (icon()) {
      <ng-icon [name]="icon()" [size]="iconSize" />
    }
    <ng-content></ng-content>
  </button>
}
